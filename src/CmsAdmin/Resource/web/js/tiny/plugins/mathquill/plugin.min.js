tinymce.PluginManager.add('mathquill', function(editor, url) {
    
    var mathquillId;
    
    var generalTabColumn1 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -144px -29px"></button>',
                onclick: function(e){
                	$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\lparen{}').focus();
                } 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -173px -29px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\lbrack{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -202px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\lbrace{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -173px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\lpipe{}').focus();
				} 
			}
        ]
    };
    
    var generalTabColumn2 = {
		type: 'container',
		layout: 'grid',
		columns: 1,
		items: [
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -86px -29px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','^{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -115px -29px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','_{}').focus();
				} 
			}
		]
    };
    
    var generalTabColumn3 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: 1px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\frac{}{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -26px -31px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sqrt{}').focus();
                } 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -55px -31px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\nthroot{}{}').focus();
				} 
			}
        ]
    };
    
    var generalTabColumn4 = {
        type: 'container',
		layout: 'grid',
		columns: 3,
		items: [
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -202px -29px"></button>',
                onclick: function(e){
                	$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','+').focus();
                } 
            },
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -231px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\slash').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -231px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\times').focus();
				} 
			},
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -249px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\pm').focus();
				} 
			},
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -231px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','-').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -249px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\div').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -465px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\cdot').focus();
                } 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -465px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ast').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -483px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ring').focus();
				} 
			}
		]
    };
    
    var generalTabColumn5 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -753px -37px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','>').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -789px -37px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','<').focus();
				} 
			},
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -249px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ge').focus();
				} 
			},
            {
                type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -267px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\le').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -591px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','=').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -555px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ne').focus();
				} 
			}
		]
    };
    
    var generalTabColumn6 = {
		type: 'container',
		layout: 'grid',
		columns: 4,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -933px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\in').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -951px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ni').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -825px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\notin').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -843px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\notni').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -969px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sub').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -987px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sup').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -861px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\subeq').focus();
				} 
			},{
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -861px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\supeq').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -969px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\union').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -969px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\intersection').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -320px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\emptyset').focus();
            	} 
			},
		]
    };
    
    var generalTabColumn7 = {
		type: 'container',
		layout: 'grid',
		columns: 3,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -501px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\pi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -518px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\partial').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -537px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\degree').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -501px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\infinity').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -518px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\inc').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -537px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\'').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1770px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\epsilon').focus();
				} 
			},{
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -537px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\nabla').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -555px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\'\'').focus();
				} 
			},
		]
    };
    
    var generalTabGrid = {
        type: 'container',
        layout: 'grid',
        columns: 16,
        items: [generalTabColumn1, generalTabColumn2, generalTabColumn3,
                generalTabColumn4, generalTabColumn5, generalTabColumn6,
                generalTabColumn7]
    }
    
    var generalTab = {
        type: 'container',
        layout: 'fit',
        padding: '10 10 10 10',
        title: 'General',
        items: [generalTabGrid]
    };
    
    var symbolsTabColumn1 = {
		type: 'container',
		layout: 'grid',
		columns: 3,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2112px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\N').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2130px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Z').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2112px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Q').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2130px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\C').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2112px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\R').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2130px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\P').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2058px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\real').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2058px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\imaginary').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2076px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\aleph').focus();
				} 
			},
		]
    };
    
    var symbolsTabColumn2 = {
		type: 'container',
		layout: 'grid',
		columns: 3,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1023px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\and').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1023px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\or').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1041px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\not').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1041px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\forall').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1041px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\exist').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1005px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\therefore').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1005px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\because').focus();
				} 
			},
		]
    };
    
    var symbolsTabColumn3 = {
		type: 'container',
		layout: 'grid',
		columns: 1,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1113px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\angle').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1131px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\parallel').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1131px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\perp').focus();
				} 
			},
		]
    };
    
    var symbolsTabColumn4 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -591px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','=').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -627px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\equiv').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -591px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sim').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -627px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\asymp').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -609px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\simeq').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -645px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\cong').focus();
				} 
			},
		]
    };
    
    var symbolsTabColumn5 = {
		type: 'container',
		layout: 'grid',
		columns: 3,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -753px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','>').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -681px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\gg').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -717px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\succ').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -789px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','<').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -681px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ll').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -717px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\prec').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -753px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\triangleright').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -735px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\triangleleft').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -699px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\prop').focus();
				} 
			},
		]
    };
    
    var symbolsTabColumn6 = {
		type: 'container',
		layout: 'grid',
		columns: 3,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1149px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\bigcirc').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1149px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\bigtriangleup').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1115px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\diamond').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1188px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\oplus').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1167px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ominus').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1185px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\otimes').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1203px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\odot').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1185px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\bullet').focus();
				} 
			},
		]
    };
    
    var symbolsTabColumn7 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -879px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sqsubset').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -897px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sqsupset').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -897px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sqsubseteq').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -915px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sqsupseteq').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -933px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sqcup').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -933px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sqcap').focus();
				} 
			},
		]
    };
    
    var symbolsTabGrid = {
        type: 'container',
        layout: 'grid',
        columns: 16,
        items: [symbolsTabColumn1, symbolsTabColumn2, symbolsTabColumn3, symbolsTabColumn4, symbolsTabColumn5, symbolsTabColumn6, symbolsTabColumn7]
    }
    
    var symbolsTab = {
        type: 'container',
        layout: 'fit',
        title: 'Symbols',
        padding: '10 10 10 10',
        items: [symbolsTabGrid]
    };
    
    var arrowsTabColumn1 = {
		type: 'container',
		layout: 'grid',
		columns: 8,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1383px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\longleftarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1401px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\longrightarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1401px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\longleftrightarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1257px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\uparrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1257px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\downarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1257px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\updownarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1221px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\nwarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1203px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\nearrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1401px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Longleftarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1419px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Longrightarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1419px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Longleftrightarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1275px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Uparrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1275px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Downarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1275px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Updownarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1239px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\swarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1203px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\searrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1221px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\hookleftarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1221px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\hookrightarrow').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1239px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\leftharpoonup').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1239px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\rightharpoonup').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1437px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\mapsto').focus();
				} 
			},
		]
    };
    
    var arrowsTabColumn2 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1665px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\vech{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1694px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\veclr{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1665px -29px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\vec{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1723px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\bar{}').focus();
				} 
			},
		]
    };
    
    var arrowsTabGrid = {
        type: 'container',
        layout: 'grid',
        columns: 16,
        items: [arrowsTabColumn1, arrowsTabColumn2]
    }
    
    var arrowsTab = {
        type: 'container',
        layout: 'fit',
        title: 'Arrows',
        padding: '10 10 10 10',
        items: [arrowsTabGrid]
    };
    
    var greekTabColumn1 = {
		type: 'container',
		layout: 'grid',
		columns: 8,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1753px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\alpha').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1752px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\beta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1752px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\gamma').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1770px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\delta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1770px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\epsilon').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1770px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\zeta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1788px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\eta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1788px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\theta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1806px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\iota').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1806px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\kappa').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1806px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\lambda').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1824px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\mu').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1824px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\nu').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1824px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\xi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1842px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\omicron').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1842px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\pi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1861px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\rho').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1861px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sigma').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1878px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\tau').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1878px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\upsilon').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1878px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\phi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1896px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\chi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1896px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\psi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1914px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\omega').focus();
				} 
			},
		]
    };
    
    var greekTabColumn2 = {
		type: 'container',
		layout: 'grid',
		columns: 8,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1914px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Alpha').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1914px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Beta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1932px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Gamma').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1932px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Delta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1932px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Epsilon').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1950px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Zeta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1950px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Eta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1950px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Theta').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1968px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Iota').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1968px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Kappa').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1968px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Lambda').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1986px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Mu').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1986px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Nu').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -1986px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Xi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2003px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Omicron').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2003px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Pi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2003px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Rho').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2022px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Sigma').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2022px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Tau').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2022px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Upsilon').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2040px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Phi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2040px -18px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Chi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2040px -36px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Psi').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 19px; height: 19px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -2058px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\Omega').focus();
				} 
			},
		]
    };
    
    var greekTabGrid = {
        type: 'container',
        layout: 'grid',
        columns: 16,
        items: [greekTabColumn1, greekTabColumn2]
    }
    
    var greekTab = {
        type: 'container',
        layout: 'fit',
        title: 'Greek',
        padding: '10 10 10 10',
        items: [greekTabGrid]
    };
    
    var calculusTabColumn1 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3891px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\int_{}^{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3949px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\int_{}^{}\\space{}\\mathrm{d}\\mathrm{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3920px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\int_{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3980px -0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\int_{}\\space{}\\mathrm{d}\\mathrm{}').focus();
				} 
			},
		]
    };
    
    var calculusTabColumn2 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4009px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\mathrm{d}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4064px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\frac{\\mathrm{d}\\mathrm{}}{\\mathrm{d}\\mathrm{}}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4038px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\partial').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4093px 1px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\frac{\\partial\\mathrm{}}{\\partial\\mathrm{}}').focus();
				} 
			},
		]
    };
    
    var calculusTabColumn3 = {
		type: 'container',
		layout: 'grid',
		columns: 1,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4124px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\contentdown{\\lim}{\\mathit{}\\rightarrow\\infinity}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4153px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\contentdown{\\lim}{}').focus();
				} 
			},
		]
    };
    
    var calculusTabColumn4 = {
		type: 'container',
		layout: 'grid',
		columns: 5,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4588px -2px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sin').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4589px -31px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\cos').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4616px -2px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\tan').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4615px -31px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\log').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4645px -2px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\log_{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4442px -31px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\csc').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4471px -2px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sec').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4471px -31px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\cot').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -4676px -2px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\ln').focus();
				} 
			},
		]
    };
    
    var calculusTabColumn5 = {
		type: 'container',
		layout: 'grid',
		columns: 2,
		items: [
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3836px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\sum').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3546px -29px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\contentupdown{\\sum}{}{}').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3807px 0px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\prod').focus();
				} 
			},
            {
				type:'container',
                html: '<button class="mathquill-button" style="width: 29px; height: 29px; background-image: url('+ url+'/src/plugins/tinymce/plugins/mathquill/img/icons.png); background-position: -3662px -29px"></button>',
				onclick: function(e){
					$('#'+mathquillId).contents().find('#mathquill-formula').mathquill('write','\\contentupdown{\\prod}{}{}').focus();
				} 
			},
		]
    };
    
    var calculusTabGrid = {
        type: 'container',
        layout: 'grid',
        columns: 16,
        items: [calculusTabColumn1, calculusTabColumn2, calculusTabColumn3, calculusTabColumn4, calculusTabColumn5]
    }
    
    var calculusTab = {
        type: 'container',
        layout: 'fit',
        title: 'Calculus',
        padding: '10 10 10 10',
        items: [calculusTabGrid]
    };
    
    var mathquillEditorTabPanel = {
        type: 'tabpanel',
        layout: 'fit',
        width: 640,
        height: 120,
        items: [generalTab, symbolsTab, arrowsTab, greekTab, calculusTab]
    };
    
    var mathquillEditorIframe = {
        type: 'iframe',
		layout: 'fit',
		url: url + '/html/plugin.html',
		width: 640,
		height: 100,
		onpostrender: function(e){
            mathquillId = this._id;
            $('#'+mathquillId).load(function(){
                $(this).contents().find('#mathquill-formula').mathquill('editable').focus();
            });
		},
    };
    
    var mathquillEditorButtons = {
		text: 'Insert',
        classes: 'widget btn primary',
		onclick: function() {
			var selection = editor.selection;
			var span = $('<span style="display: inline" class="mathquill-rendered-math"/>');
			span.append($('#'+mathquillId).contents().find('#mathquill-formula').mathquill('html'));
            editor.insertContent(span.wrap('<p/>').parent().html());
			this.parent().parent().close();
		}
	}
    
    var mathquillEditor = {
        title: 'Formula editor',
        width: 640,
		height: 220,
		type: 'container',
		layout: 'grid',
		columns: 1,
        items: [mathquillEditorTabPanel, mathquillEditorIframe],
        buttons: mathquillEditorButtons,
    };
    
    editor.addButton('mathquill', {
        text: '\u2211',
        tooltip: 'Formula editor',
        onclick: function(){
            editor.windowManager.open(mathquillEditor);
        }
    });
    
});